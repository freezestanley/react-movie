(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[8],{hGOj:function(e,t,a){"use strict";a.r(t);var r=a("d6i3"),n=a.n(r),s=a("p0pE"),u=a.n(s),c=a("jehZ"),o=a.n(c),p=a("t3Un");function d(e){var t=o()({},e);return Object(p["a"])({url:"/queryUserView",serve:"card",method:"GET",data:t})}function i(e){var t=o()({},e);return Object(p["a"])({url:"/exchange",serve:"card",method:"POST",data:t})}t["default"]={namespace:"card",state:{data:[],historyCards:[],cardProductItem:{}},reducers:{setState(e,t){var a=t.payload;return u()({},e,a)}},effects:{getCard(e,t){return n.a.mark(function a(){var r,s,u,c;return n.a.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return r=e.payload,s=t.put,u=t.call,a.next=4,u(d,r);case 4:return c=a.sent,a.next=7,s({type:"setState",payload:{data:c.data,total:c.historyCouponCount}});case 7:case"end":return a.stop()}},a)})()},getHistoryCard(e,t){return n.a.mark(function a(){var r,s,u,c,o,p;return n.a.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return r=e.payload,s=t.put,u=t.call,a.next=4,u(d,r);case 4:if(c=a.sent,o=c.data,p=c.success,!p){a.next=9;break}return a.next=9,s({type:"setState",payload:{historyCards:o}});case 9:case"end":return a.stop()}},a)})()},exchangeCard(e,t){return n.a.mark(function a(){var r,s,u;return n.a.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return r=e.payload,t.put,s=t.call,a.next=4,s(i,r);case 4:return u=a.sent,a.abrupt("return",u);case 6:case"end":return a.stop()}},a)})()}},subscriptions:{setup(e){e.dispatch;var t=e.history;return t.listen(e=>{e.pathname,e.query})}}}}}]);