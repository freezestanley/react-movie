(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[17],{XbVa:function(e,a,t){e.exports={order:"order___HF7p4",order_up:"order_up___218yw",order_head:"order_head___8E98O",headLeft:"headLeft___25SdK",span_1:"span_1___O_syj",pay:"pay___UUHRn",unpaid:"unpaid___1IsBL",chagrefailed:"chagrefailed___eO2GP",paid:"paid___Fh_hE",outtime:"outtime___2UycC",details:"details___3YU3C",detailsFirst:"detailsFirst___2T7db",details_p1:"details_p1___3iiui",up_p:"up_p___-wQ9J",details_p2:"details_p2___17RBb",details_p3:"details_p3___2YIj3",order_down:"order_down___2YiWg",recharge:"recharge___2mOHS",concat:"concat___1N0cg",check:"check___3vmNj"}},cl9U:function(e,a,t){e.exports={orders:"orders___1zUsi"}},nVzm:function(e,a,t){"use strict";t.r(a);var s=t("Ya3S"),r=t("q1tI"),c=t.n(r),d=t("/MKj"),n=t("3a4m"),i=t.n(n),o=t("ox7y"),l=t("Wgwc"),m=t.n(l),p=t("XbVa"),u=t.n(p),_=Object(d["c"])(e=>e.user)(e=>{var a,t,s,d=e.info,n=e.dispatch;2===d.productList.length?(t=d.productList[0],s=d.productList[1],a=!0):(t=d.productList[0],a=!1);var l=Object(r["useCallback"])(()=>{var e={orderId:d.orderId,payType:1};Object(o["c"])({dispatch:n,type:"order/relaunchPay",formData:e,callback(){}})},[n,d.orderId]);return c.a.createElement("div",{className:u.a.order},c.a.createElement("div",{className:u.a.order_up,onClick:()=>i.a.push("./orderdetail?id=".concat(d.orderId))},c.a.createElement("div",{className:u.a.order_head},c.a.createElement("div",{className:u.a.headLeft},c.a.createElement("img",{src:d.productList[0].image,alt:""}),a&&!!s.image&&c.a.createElement("img",{src:d.productList[1].image,alt:""}),c.a.createElement("span",{className:u.a.span_1},t.productName,a&&"+".concat(s.productName))),c.a.createElement("div",{className:u.a.pay},1===d.status&&c.a.createElement("span",{className:u.a.unpaid},"\u5f85\u652f\u4ed8 "),3===d.status&&c.a.createElement("span",{className:u.a.chagrefailed},"\u652f\u4ed8\u5931\u8d25"),2===d.status&&c.a.createElement("span",{className:u.a.paid},"\u5df2\u652f\u4ed8"),4===d.status&&c.a.createElement("span",{className:u.a.outtime},"\u5df2\u5931\u6548"),5===d.status&&c.a.createElement("span",{className:u.a.paid},"\u5df2\u5b8c\u6210"),6===d.status&&c.a.createElement("span",{className:u.a.outtime},"\u5145\u503c\u5931\u8d25"),7===d.status&&c.a.createElement("span",{className:u.a.outtime},"\u5df2\u9000\u6b3e"),8===d.status&&c.a.createElement("span",{className:u.a.outtime},"\u90e8\u5206\u9000\u6b3e"),9===d.status&&c.a.createElement("span",{className:u.a.outtime},"\u90e8\u5206\u6210\u529f"),10===d.status&&c.a.createElement("span",{className:u.a.outtime},"\u9000\u6b3e\u4e2d"),11===d.status&&c.a.createElement("span",{className:u.a.outtime},"\u9000\u6b3e\u5931\u8d25"))),c.a.createElement("div",{className:u.a.details},c.a.createElement("div",{className:u.a.detailsFirst},c.a.createElement("p",{className:u.a.details_p1},"\u8ba2\u5355 : ",d.orderId)," ",c.a.createElement("p",{className:u.a.up_p},"\xa5 ",d.payAmount)),c.a.createElement("p",{className:u.a.details_p2},"\u65f6\u95f4 : ",m()(d.orderTime).format("YYYY-MM-DD HH:mm:ss")),t.productItemName&&c.a.createElement("p",{className:u.a.details_p3},"\u89c4\u683c : ",t.productItemName," "))),4!==d.status&&2!==d.status&&c.a.createElement("div",{className:u.a.order_down},c.a.createElement("div",null,1===d.status&&c.a.createElement("span",{className:u.a.recharge,onClick:l},"\u652f\u4ed8"),3===d.staus&&c.a.createElement("span",{className:u.a.concat},"\u8054\u7cfb\u5ba2\u670d"),5===d.status&&c.a.createElement("span",{className:u.a.check,onClick:()=>i.a.push("./orderdetail?id=".concat(d.orderId))},"\u67e5\u770b\u5361\u5bc6"))))}),h=t("fmEU"),g=(t("cl9U"),{normal:0,pull:1,drop:2,loading:3,success:4,failure:5}),E={normal:0,abort:1,loading:2,success:3,failure:4,complete:5};class N extends r["Component"]{constructor(e){super(e),this.mounted=!0,this.page=1,this.refreshData=(()=>{this.mounted&&(this.setState({page:1}),Object(h["j"])({}).then(e=>{this.setState({refreshing:g.loading}),"0000"===e.code?(this.setState({data:e.data,pageNo:1}),this.appendDa(),this.setState({refreshing:g.success})):this.setState({refreshing:g.success})}))}),this.loadData=(()=>{var e=this.state,a=e.data,t=e.page,s=e.dataSource;this.setState({loading:E.loading}),Object(h["j"])({pageNo:t+1}).then(e=>{var r=E.complete;if(this.setState({loading:r}),"0000"===e.code){if(null==e.data){var d=E.complete;return void this.setState({loading:d})}a.concat(e.data),this.setState({data:a}),e.data.map(e=>{s.push(c.a.createElement(_,{key:e.orderId,info:e}))}),this.setState({page:t+1}),this.setState({dataSource:s});var n=E.success;this.setState({loading:n})}else{var i=E.complete;this.setState({loading:i})}})}),this.appendData=(()=>{Object(h["j"])({}).then(e=>{if("0000"===e.code){this.setState({data:e.data});var a=this.state,t=a.data,s=a.dataSource;if(!t)return;t.map(e=>{s.push(c.a.createElement(_,{key:e.orderId,info:e}))}),this.setState({dataSource:s})}})}),this.appendDa=(()=>{var e=this.state.data,a=[];e&&(e.map(e=>{a.push(c.a.createElement(_,{key:e.orderId,info:e}))}),this.setState({dataSource:a}))}),this.state={useBodyScroll:!1,refreshing:g.normal,loading:E.normal,dataSource:[],data:[],page:1}}componentDidUpdate(){document.body.style.overflow="hidden"}componentDidMount(){this.appendData()}componentWillUnmount(){this.mounted=!1,document.body.style.overflow="auto"}render(){var e=this.state,a=e.refreshing,t=e.loading,r=e.dataSource,d={position:"relative",overflowY:"auto",height:"100%"};return c.a.createElement(s["a"],{style:d,refresh:{state:a,handler:this.refreshData},load:{state:t,distance:200,handler:this.loadData}},r)}}a["default"]=Object(d["c"])(e=>({order:e.order}))(N)}}]);