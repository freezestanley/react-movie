(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[20],{"6l3h":function(e,a,t){e.exports={seckillContainer:"seckillContainer___2ZqMr",topupOther:"topupOther___1M3Mv"}},DdHb:function(e,a,t){e.exports={product:"product___33Vc_",main:"main___1cZco","main-inner":"main-inner___opE6m",price:"price___1uRDY","price-container":"price-container___3GUuK","price-inner":"price-inner___3t11K","price-content":"price-content___1Cx4o","price-discount":"price-discount___1rhXG","price-current":"price-current___2CZgJ","price-current-value":"price-current-value___3hbbA","price-original":"price-original___v-zvb",name:"name___2Vko7",gift:"gift___3YijO",stock:"stock___23Ryo","stock-value":"stock-value___3pmG3","stock-progress":"stock-progress___2FtB0"}},GmQi:function(e,a,t){e.exports={box:"box___2lcfy",desc:"desc___18evj"}},N1Q1:function(e,a,t){"use strict";t.r(a);var c=t("ZZRV"),n=t.n(c),r=t("svyS"),i=t("6l3h"),l=t.n(i),m=t("/LDh"),s=t("4smB"),o=t("qlp5"),u=t("3um4"),_=t.n(u),d=t("G9UT"),p=t("0WnK"),E=t("qRYI"),v=t.n(E),N=e=>{var a=e.value;return n.a.createElement("span",{className:v.a["unit"]},Object(p["a"])(2,a.toString(),"0"))},b=()=>{return n.a.createElement("span",{className:v.a["separator"]},":")},f=e=>{var a=e.hours,t=e.minutes,c=e.seconds;return n.a.createElement("div",{className:v.a["countdown"]},n.a.createElement(N,{value:a}),n.a.createElement(b,null),n.a.createElement(N,{value:t}),n.a.createElement(b,null),n.a.createElement(N,{value:c}))},k=e=>{var a=e.date;return n.a.createElement(d["a"],{date:a,renderer:f})},g=t("gqNH"),y=t.n(g),h=e=>{var a=e.title,t=e.timeDesc,c=e.time,r=e.children;return n.a.createElement("div",{className:y.a["activity"]},n.a.createElement("div",{className:y.a["header"]},n.a.createElement("div",{className:y.a["title"]},a),n.a.createElement("div",{className:y.a["time"]},n.a.createElement("span",{className:y.a["label"]},t),c?n.a.createElement(k,{date:c}):null)),n.a.createElement("div",{className:y.a["body"]},r))},x=t("eJhp"),O=t("DdHb"),D=t.n(O),j=e=>{var a=e.info,t=Object(c["useMemo"])(()=>{var e=(a.quantity-a.stock)/a.quantity*100;return 60+.4*e},[a]);return n.a.createElement("div",{className:D.a["product"]},n.a.createElement("div",{className:D.a["price"]},n.a.createElement("div",{className:D.a["price-container"]},n.a.createElement("div",{className:D.a["price-inner"]},n.a.createElement("div",{className:D.a["price-content"]},n.a.createElement("div",{className:D.a["price-current"]},"\uffe5",n.a.createElement("span",{className:D.a["price-current-value"]},a.discountPrice)),n.a.createElement("div",{className:D.a["price-original"]},"\u539f\u4ef7\uffe5",n.a.createElement("span",null,a.originPrice))))),n.a.createElement("div",{className:D.a["price-discount"]},Object(x["f"])(a.discount),"\u6298")),n.a.createElement("div",{className:D.a["main"]},n.a.createElement("div",{className:D.a["main-inner"]},n.a.createElement("div",{className:D.a["name"]},a.productName,a.itemName),n.a.createElement("div",{className:D.a["gift"]},"\u6682\u65e0"),n.a.createElement("div",{className:D.a["stock"]},n.a.createElement("div",{className:D.a["stock-value"]},100===t?"\u5df2\u552e\u7f44":"".concat(parseInt(t),"%")),n.a.createElement("div",{className:D.a["stock-progress"],style:{width:"".concat(t,"%")}})))))},C=t("Nz2C"),w=t.n(C),T=e=>{var a=e.children,t=e.onClick;return n.a.createElement("div",{className:w.a["btn"],onClick:t},a)},q=t("GmQi"),M=t.n(q),S=e=>{var a=e.info,t=e.mystock,r=Object(c["useMemo"])(()=>{return a?Date.now()-a.currTimestamp:0},[a]);if(2===a.currStatus)return n.a.createElement(h,{title:a.productName,timeDesc:"\u8ddd\u6d3b\u52a8\u5f00\u59cb",time:a.beginTimestamp+r},n.a.createElement(j,{info:a}));if(4===a.currStatus)return a.nextBeginTimestamp?n.a.createElement(h,{title:a.productName,timeDesc:"\u8ddd\u6d3b\u52a8\u5f00\u59cb",time:a.nextBeginTimestamp+r},n.a.createElement(j,{info:a})):n.a.createElement("div",null,"\u6d3b\u52a8\u5df2\u4e0b\u7ebf");if(1===a.currStatus){if(0===t)return n.a.createElement(h,{title:a.productName},n.a.createElement(j,{info:a}),n.a.createElement("div",{className:M.a["box"]},n.a.createElement("div",{className:M.a["desc"]},"\u60a8\u5df2\u8fbe\u5230\u4eca\u65e5\u8d2d\u4e70\u4e0a\u9650"),n.a.createElement(T,null,"\u67e5\u770b\u8be5\u5546\u54c1\u66f4\u591a\u6298\u6263")));if(0===a.stock){if(a.nextBeginTimestamp){var i=_()(a.nextBeginTimestamp).format("HH:mm");return n.a.createElement(h,{title:a.productName,timeDesc:"\u8ddd\u6d3b\u52a8\u5f00\u59cb",time:a.nextBeginTimestamp+r},n.a.createElement(j,{info:a}),n.a.createElement("div",{className:M.a["box"]},n.a.createElement("div",{className:M.a["desc"]},"\u79d2\u6740\u6d3b\u52a8\u5df2\u552e\u7f44\uff0c\u6bcf\u5929\u65e9\u4e0a",i,"\u5f00\u62a2"),n.a.createElement(T,null,"\u67e5\u770b\u8be5\u5546\u54c1\u66f4\u591a\u6298\u6263")))}return n.a.createElement(h,{title:a.productName},n.a.createElement(j,{info:a}),n.a.createElement("div",{className:M.a["box"]},n.a.createElement("div",{className:M.a["desc"]},"\u79d2\u6740\u6d3b\u52a8\u5df2\u552e\u7f44"),n.a.createElement(T,null,"\u67e5\u770b\u8be5\u5546\u54c1\u66f4\u591a\u6298\u6263")))}return n.a.createElement(h,{title:a.productName,timeDesc:"\u8ddd\u6d3b\u52a8\u7ed3\u675f",time:a.endTimestamp+r},n.a.createElement(j,{info:a}))}return null},B=t("tOtk");a["default"]=Object(r["c"])(e=>({seckill:e.seckill}))(e=>{var a=e.dispatch,t=e.location.query,r=e.seckill.info,i=Object(c["useMemo"])(()=>r.detail,[r]),u=Object(c["useMemo"])(()=>r.mystock,[r]),_=Object(c["useCallback"])(()=>{a({type:"seckill/getSeckillDetail",payload:{id:t.id}})},[a,t.id]);return Object(c["useEffect"])(()=>{_()},[_]),Object(c["useEffect"])(()=>{a({type:"prePay/setState",payload:{main:i||{},type:"seckill"}})},[a,i]),n.a.createElement("div",{className:l.a.seckillContainer},i&&n.a.createElement(m["a"],{corner:i.cornerMark,description:i.productDescription,imgUrl:i.productImage}),i&&n.a.createElement(S,{info:i,mystock:u}),i&&n.a.createElement("div",{className:l.a.topupOther},n.a.createElement(s["a"],{nodes:i.productDetail||""})),n.a.createElement(o["a"],null),n.a.createElement(B["a"],{onValidate:()=>!0}))})},Nz2C:function(e,a,t){e.exports={btn:"btn___1KhR-"}},gqNH:function(e,a,t){e.exports={activity:"activity___1-cyI",header:"header___n3fej",body:"body___2dh8u",title:"title___2hkC-",time:"time___3saNN",label:"label____zWJg"}},qRYI:function(e,a,t){e.exports={countdown:"countdown___2TSDL",unit:"unit___2bYAb",separator:"separator___2CKYQ"}}}]);